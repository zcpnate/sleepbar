<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>SleepBar - Beautiful Sleep Timer for Mac | Schedule macOS Sleep Timer</title>
    <meta name="title" content="SleepBar - Beautiful Sleep Timer for Mac | Schedule macOS Sleep Timer">
    <meta name="description" content="A simple and elegant sleep timer for macOS. Set your Mac to sleep at a specific time or after a duration. Perfect for overnight downloads, podcasts, and energy savings. 7-day free trial.">
    <meta name="keywords" content="mac sleep timer, macos sleep timer, sleep scheduler mac, mac auto sleep, macOS timer, sleep timer app, mac menu bar app, macOS Sonoma app, mac utility app">
    <meta name="author" content="Nate O'Farrell">
    <meta name="theme-color" content="#007AFF">
    <link rel="canonical" href="https://sleepbar.app/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sleepbar.app/">
    <meta property="og:title" content="SleepBar - Beautiful Sleep Timer for Mac">
    <meta property="og:description" content="A simple and elegant sleep timer for macOS. Set your Mac to sleep at a specific time or after a duration. Perfect for overnight downloads, podcasts, and energy savings.">
    <meta property="og:image" content="https://sleepbar.app/media/app.png">
    <meta property="og:site_name" content="SleepBar">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://sleepbar.app/">
    <meta name="twitter:title" content="SleepBar - Beautiful Sleep Timer for Mac">
    <meta name="twitter:description" content="A simple and elegant sleep timer for macOS. Set your Mac to sleep at a specific time or after a duration.">
    <meta name="twitter:image" content="https://sleepbar.app/media/app.png">
    
    <!-- Favicon -->
    <link rel="icon" href="media/icon.png" type="image/png">
    <link rel="apple-touch-icon" href="media/icon.png">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "SleepBar",
      "operatingSystem": "macOS 14.0 or later",
      "applicationCategory": "UtilitiesApplication",
      "offers": {
        "@type": "Offer",
        "price": "4.20",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "5",
        "ratingCount": "1"
      },
      "description": "A simple and elegant sleep timer for macOS. Set your Mac to sleep at a specific time or after a duration.",
      "screenshot": "https://sleepbar.app/media/app.png",
      "downloadUrl": "https://github.com/zcpnate/sleepbar/releases/latest/download/SleepBar.dmg",
      "softwareVersion": "1.0",
      "author": {
        "@type": "Person",
        "name": "Nate O'Farrell"
      },
      "publisher": {
        "@type": "Organization",
        "name": "SleepBar",
        "logo": {
          "@type": "ImageObject",
          "url": "https://sleepbar.app/media/icon.png"
        }
      }
    }
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "SleepBar",
      "url": "https://sleepbar.app",
      "logo": "https://sleepbar.app/media/icon.png",
      "contactPoint": {
        "@type": "ContactPoint",
        "email": "hi@sleepbar.app",
        "contactType": "Customer Support"
      },
      "sameAs": [
        "https://github.com/zcpnate/sleepbar"
      ]
    }
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What is SleepBar?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "SleepBar is a Mac sleep timer app that allows you to schedule your macOS computer to sleep automatically after a set duration or at a specific time. It's perfect for listening to music before bed, managing overnight downloads, or saving energy."
          }
        },
        {
          "@type": "Question",
          "name": "Does SleepBar work on my Mac?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "SleepBar requires macOS 14.0 (Sonoma) or later. It works on all modern Macs including MacBook Air, MacBook Pro, iMac, Mac Mini, Mac Studio, and Mac Pro running compatible versions of macOS."
          }
        },
        {
          "@type": "Question",
          "name": "Is there a free trial?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes! SleepBar offers a 7-day free trial with full access to all features. No credit card is required to start your trial. Simply download and start using the app."
          }
        },
        {
          "@type": "Question",
          "name": "What's the difference between system sleep and display sleep?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "System sleep puts your entire Mac into a low-power state, closing all apps and stopping all processes. Display sleep only turns off your screen while keeping your Mac running, perfect for downloads or background tasks."
          }
        },
        {
          "@type": "Question",
          "name": "Can I use SleepBar on multiple Macs?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes! Your $4.20 one-time purchase license allows you to use SleepBar on up to 3 Macs. The license includes lifetime updates at no additional cost."
          }
        },
        {
          "@type": "Question",
          "name": "How do I cancel a sleep timer once it's set?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Simply click the SleepBar icon in your menu bar and you'll see options to cancel or modify your active timer. You'll also receive a notification 1 minute before sleep with the option to cancel."
          }
        }
      ]
    }
    </script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <picture>
                    <source srcset="media/icon.webp" type="image/webp">
                    <img src="media/icon.png" alt="SleepBar Mac Sleep Timer App Logo" class="logo-icon" width="120" height="120">
                </picture>
                SleepBar
            </div>
            <div class="nav-links">
                <a href="#features">Features</a>
                <a href="#changelog">Changelog</a>
                <a href="#download">Download</a>
                <a href="https://shop.sleepbar.app/buy/8089829a-1927-4553-9b16-28aacdcfe904" class="cta-button">Buy $4.20</a>
            </div>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1>SleepBar - Mac Sleep Timer</h1>
                <p class="tagline">A simple and elegant sleep timer for macOS. Schedule your Mac to sleep automatically.</p>
                <div class="hero-buttons">
                    <a href="https://github.com/zcpnate/sleepbar/releases/latest/download/SleepBar.dmg" class="primary-button">
                        Download Free Trial
                    </a>
                    <a href="https://shop.sleepbar.app/buy/8089829a-1927-4553-9b16-28aacdcfe904" class="secondary-button">
                        Buy Now - $4.20
                    </a>
                </div>
                <p class="trial-info">7-day free trial ‚Ä¢ macOS 14.0+</p>
            </div>
            <div class="hero-image">
                <div class="app-preview">
                    <picture>
                        <source srcset="media/app.webp" type="image/webp">
                        <img src="media/app.png" 
                             alt="SleepBar macOS menu bar app interface showing sleep timer options with quick presets, custom duration, and scheduled sleep time controls" 
                             class="app-screenshot"
                             width="662"
                             height="1330"
                             loading="eager">
                    </picture>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="features">
            <h2>Mac Sleep Timer Features</h2>
            <div class="features-grid">
                <div class="feature">
                    <div class="feature-icon">‚è±Ô∏è</div>
                    <h3>Quick Sleep Timers</h3>
                    <p>Preset timer options for 15, 30, 60, and 120 minutes. Set your Mac sleep timer with one click.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üéØ</div>
                    <h3>Custom Duration Timer</h3>
                    <p>Set a custom sleep timer for any duration you need with hours and minutes precision. Perfect for podcasts and music.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üïê</div>
                    <h3>Schedule Specific Time</h3>
                    <p>Schedule your Mac to sleep at a specific time. Perfect for overnight downloads and long-running tasks.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üíª</div>
                    <h3>Flexible Sleep Modes</h3>
                    <p>Choose between putting your entire macOS system to sleep or just the display. Save energy your way.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">‚ö†Ô∏è</div>
                    <h3>Pre-Sleep Warning Notification</h3>
                    <p>Get notified 1 minute before sleep with options to cancel or extend the timer. Never lose unsaved work.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">‚ú®</div>
                    <h3>Beautiful Native Design</h3>
                    <p>Follows Apple's liquid glass design principles for a modern, native macOS feel. Built for macOS Sonoma and later.</p>
                </div>
            </div>
        </section>

        <!-- Changelog Section -->
        <section id="changelog" class="changelog">
            <h2>What's New</h2>
            <div class="changelog-container" id="changelog-content">
                <div class="loading">Loading changelog...</div>
            </div>
        </section>

        <!-- Download Section -->
        <section id="download" class="download">
            <h2>Download SleepBar for Mac</h2>
            <p>Try the best Mac sleep timer app free for 7 days. No credit card required.</p>
            <div class="download-buttons">
                <a href="https://github.com/zcpnate/sleepbar/releases/latest/download/SleepBar.dmg" class="primary-button large">
                    Download for macOS
                </a>
            </div>
            <p class="system-requirements">Requires macOS 14.0 (Sonoma) or later</p>
        </section>

        <!-- Pricing Section -->
        <section class="pricing">
            <h2>Simple One-Time Pricing</h2>
            <div class="pricing-card">
                <div class="price">$4.20</div>
                <p class="price-subtext">One-time purchase</p>
                <ul class="features-list">
                    <li>‚úì 7-day free trial</li>
                    <li>‚úì Lifetime updates</li>
                    <li>‚úì All features included</li>
                    <li>‚úì Use on 3 Macs</li>
                </ul>
                <a href="https://shop.sleepbar.app/buy/8089829a-1927-4553-9b16-28aacdcfe904" class="primary-button">
                    Purchase License
                </a>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="faq">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-container">
                <details class="faq-item">
                    <summary>What is SleepBar?</summary>
                    <p>SleepBar is a Mac sleep timer app that allows you to schedule your macOS computer to sleep automatically after a set duration or at a specific time. It's perfect for listening to music before bed, managing overnight downloads, or saving energy.</p>
                </details>
                <details class="faq-item">
                    <summary>Does SleepBar work on my Mac?</summary>
                    <p>SleepBar requires macOS 14.0 (Sonoma) or later. It works on all modern Macs including MacBook Air, MacBook Pro, iMac, Mac Mini, Mac Studio, and Mac Pro running compatible versions of macOS.</p>
                </details>
                <details class="faq-item">
                    <summary>Is there a free trial?</summary>
                    <p>Yes! SleepBar offers a 7-day free trial with full access to all features. No credit card is required to start your trial. Simply download and start using the app.</p>
                </details>
                <details class="faq-item">
                    <summary>What's the difference between system sleep and display sleep?</summary>
                    <p>System sleep puts your entire Mac into a low-power state, closing all apps and stopping all processes. Display sleep only turns off your screen while keeping your Mac running, perfect for downloads or background tasks.</p>
                </details>
                <details class="faq-item">
                    <summary>Can I use SleepBar on multiple Macs?</summary>
                    <p>Yes! Your $4.20 one-time purchase license allows you to use SleepBar on up to 3 Macs. The license includes lifetime updates at no additional cost.</p>
                </details>
                <details class="faq-item">
                    <summary>How do I cancel a sleep timer once it's set?</summary>
                    <p>Simply click the SleepBar icon in your menu bar and you'll see options to cancel or modify your active timer. You'll also receive a notification before sleep with the option to cancel.</p>
                </details>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Nate O'Farrell. All rights reserved.</p>
        <div class="footer-links">
            <a href="mailto:hi@sleepbar.app" class="footer-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
                Contact
            </a>
            <a href="https://github.com/zcpnate/sleepbar" class="footer-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                GitHub
            </a>
        </div>
    </footer>

    <script>
        // Fetch and parse CHANGELOG.md
        async function loadChangelog() {
            try {
                const response = await fetch('CHANGELOG.md');
                const text = await response.text();
                
                const container = document.getElementById('changelog-content');
                container.innerHTML = parseChangelog(text);
            } catch (error) {
                console.error('Error loading changelog:', error);
                document.getElementById('changelog-content').innerHTML = 
                    '<p style="text-align: center; color: var(--text-light);">Unable to load changelog. Please visit our <a href="https://github.com/zcpnate/sleepbar/releases">releases page</a>.</p>';
            }
        }

        // Convert inline markdown to HTML
        function parseInlineMarkdown(text) {
            return text
                // Bold: **text** or __text__
                .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
                .replace(/__(.+?)__/g, '<strong>$1</strong>')
                // Italic: *text* or _text_
                .replace(/\*(.+?)\*/g, '<em>$1</em>')
                .replace(/_(.+?)_/g, '<em>$1</em>')
                // Inline code: `code`
                .replace(/`(.+?)`/g, '<code>$1</code>')
                // Links: [text](url)
                .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>');
        }

        function parseChangelog(markdown) {
            const lines = markdown.split('\n');
            let html = '';
            let currentVersion = null;
            let currentSection = null;
            let inList = false;
            
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i].trim();
                
                // Skip header and intro
                if (line.startsWith('# Changelog') || 
                    line.startsWith('All notable changes') || 
                    line.startsWith('The format is based') ||
                    line.startsWith('[1.0.0]: https://') ||
                    line === '---' ||
                    line === '') {
                    continue;
                }
                
                // Stop at "Future Releases"
                if (line.startsWith('## Future Releases')) {
                    break;
                }
                
                // Version header: ## [1.0.0] - Coming Soon
                if (line.startsWith('## [')) {
                    // Close previous version
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    if (currentVersion) {
                        html += '</div>';
                    }
                    
                    // Parse version and date
                    const versionMatch = line.match(/## \[([^\]]+)\]\s*-\s*(.+)/);
                    if (versionMatch) {
                        const version = versionMatch[1];
                        const date = versionMatch[2];
                        
                        html += `<div class="changelog-entry">
                            <div class="version-header">
                                <span class="version-number">Version ${version}</span>
                                <span class="version-date">${date}</span>
                            </div>`;
                        
                        currentVersion = version;
                    }
                }
                // Section header with emoji: ### üéâ Initial Release
                else if (line.startsWith('### ')) {
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    
                    const sectionText = line.replace('### ', '');
                    html += `<div class="version-badge">${parseInlineMarkdown(sectionText)}</div>`;
                    currentSection = sectionText;
                }
                // Subsection: #### Added
                else if (line.startsWith('#### ')) {
                    if (inList) {
                        html += '</ul>';
                        inList = false;
                    }
                    
                    const subsectionText = line.replace('#### ', '');
                    html += `<div class="changelog-subsection">${parseInlineMarkdown(subsectionText)}</div>`;
                }
                // List items: - Item text
                else if (line.startsWith('- ')) {
                    if (!inList) {
                        html += '<ul class="changelog-list">';
                        inList = true;
                    }
                    
                    const itemText = line.replace('- ', '');
                    html += `<li>${parseInlineMarkdown(itemText)}</li>`;
                }
            }
            
            // Close any open tags
            if (inList) {
                html += '</ul>';
            }
            if (currentVersion) {
                html += '</div>';
            }
            
            return html || '<p style="text-align: center; color: var(--text-light);">No changelog entries yet.</p>';
        }

        // Load changelog when page loads
        document.addEventListener('DOMContentLoaded', loadChangelog);
    </script>
</body>
</html>

